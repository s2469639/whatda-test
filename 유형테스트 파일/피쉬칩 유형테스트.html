<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” ë§› í…ŒìŠ¤íŠ¸ | ì™”ë‹¤í”¼ì‰¬ì¹©</title>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        @font-face {
            font-family: 'Cafe24Ssurround';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24Ssurround.woff') format('woff');
        }
        
        body { 
            font-family: 'Pretendard', sans-serif;
            background-color: #fff9e6; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0; 
            transition: background 0.5s ease; 
        }

        body.result-bg {
            background-image: url('ìŠ¤ë‚µ2.jpg'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        #container { 
            background-color: white; 
            width: 90%; 
            max-width: 420px; 
            padding: 40px 25px; 
            border-radius: 24px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            text-align: center; 
            position: relative;
            z-index: 1;
            transition: background-color 0.2s ease;
        }

        body.loading-state #container { 
            background-color: #ffffff !important; 
            transition: none !important;
        }

        body.result-bg #container { 
            background-color: rgba(255, 255, 255, 0.97) !important; 
            transition: none !important;
        }

        .point-font { font-family: 'Cafe24Ssurround', sans-serif; letter-spacing: -0.5px; }
        h1 { color: #ff6b00; font-size: 26px; line-height: 1.4; margin-top: 0; font-weight: 800; }
        h2 { color: #333; font-size: 20px; margin-bottom: 20px; font-weight: 700; word-break: keep-all; }
        p { color: #555; font-size: 16px; line-height: 1.6; word-break: keep-all; }

        .btn { 
            display: block; width: 100%; padding: 16px; margin: 12px 0; 
            border: 2px solid #ff6b00; border-radius: 14px; 
            background-color: white; cursor: pointer; 
            font-size: 16px; font-weight: 700; color: #ff6b00; 
            transition: 0.2s; text-decoration: none; box-sizing: border-box;
            font-family: inherit;
        }
        .btn:hover { background-color: #ff6b00; color: white; }
        
        .start-btn { background-color: #ff6b00; color: white; border: none; font-size: 18px; margin-top: 25px; }
        .store-btn { background-color: #03c75a; border: none; color: white; }
        
        /* ì¸ìŠ¤íƒ€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .insta-btn { 
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            border: none; color: white; margin-top: 30px;
        }
        
        /* ì¸ìŠ¤íƒ€ ê³„ì • ë°”ë¡œê°€ê¸° ìŠ¤íƒ€ì¼ */
        .insta-link-btn {
            border: 2px solid #e1306c;
            color: #e1306c;
            font-size: 14px;
            margin-top: 10px;
        }
        .insta-link-btn:hover { background-color: #e1306c; color: white; }

        .hidden { display: none; }

        #loading-screen { padding: 40px 0; }
        .fish-loading { 
            width: 150px; 
            height: 150px; 
            display: inline-block; 
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            animation: swim 1.8s infinite linear, walk 0.4s infinite; 
        }

        @keyframes walk {
            0%, 49% { background-image: url('1.png'); }
            50%, 100% { background-image: url('2.png'); }
        }

        @keyframes swim {
            0% { transform: translateX(-50px) rotateY(180deg); }
            49% { transform: translateX(50px) rotateY(180deg); }
            50% { transform: translateX(50px) rotateY(0deg); }
            99% { transform: translateX(-50px) rotateY(0deg); }
            100% { transform: translateX(-50px) rotateY(180deg); }
        }

        #result-img-container { width: 100%; margin: 20px 0; border-radius: 15px; overflow: hidden; }
        #result-img-container img { width: 100%; height: auto; display: block; }

        .result-box { background-color: #fffcf2; padding: 20px; border-radius: 15px; text-align: left; margin-bottom: 20px; }
        .result-box ul { list-style: none; padding: 0; margin: 15px 0; }
        .result-box li { margin-bottom: 8px; font-weight: 600; color: #555; font-size: 14px; }

        #result-features {
            background-color: #fff;
            border: 2px solid #ff6b00;
            border-radius: 12px;
            padding: 18px;
            font-size: 15px;
            font-weight: 700;
            color: #ff6b00;
            line-height: 1.6;
            margin: 10px 0 25px 0;
            text-align: center;
            box-shadow: 0 4px 10px rgba(255, 107, 0, 0.1);
            word-break: keep-all;
        }

        #progress { width: 100%; height: 6px; background-color: #eee; border-radius: 3px; margin-bottom: 30px; }
        #progress-bar { width: 0%; height: 100%; background-color: #ff6b00; border-radius: 3px; transition: 0.3s; }
    </style>
</head>
<body>

<div style="display:none;">
    <img src="1.jpg"><img src="2.jpg"><img src="ìŠ¤ë‚µ2.jpg">
</div>

<div id="container">
    <div id="start-screen">
        <h2 style="color: #ff6b00; margin-bottom: 5px;" class="point-font">ğŸŸ ì™”ë‹¤í”¼ì‰¬ì¹© ì·¨í–¥ì°¾ê¸°</h2>
        <h1 class="point-font">ë‚˜ì—ê²Œ ì°°ë–¡ì¸<br>í”¼ì‰¬ì¹©ì€ ë¬´ì—‡ì¼ê¹Œ?</h1>
        <p>ê°€ì¥ ë§›ìˆëŠ” ìˆœê°„ì„ ì°¾ì•„ì£¼ëŠ”<br>ë‚˜ë§Œì˜ ë§ì¶¤ ìŠ¤ë‚µ ê°€ì´ë“œ</p>
        <button class="btn start-btn" onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸° ğŸ‘‰</button>
    </div>

    <div id="question-screen" class="hidden">
        <div id="progress"><div id="progress-bar"></div></div>
        <h2 id="question-text">ì§ˆë¬¸ ë‚´ìš©</h2>
        <div id="answer-buttons"></div>
    </div>

    <div id="loading-screen" class="hidden">
        <div class="fish-loading"></div>
        <h2 style="margin-top: 20px; color: #007bff;" class="point-font">ì…ë§› ë¶„ì„ ì¤‘...</h2>
        <p>ì•Œë˜ìŠ¤ì¹´ì—ì„œ ì‹ ì„ í•œ í”¼ì‰¬ì¹©ì„<br>ê°€ì ¸ì˜¤ëŠ” ì¤‘ì´ì—ìš”!</p>
    </div>

    <div id="result-screen" class="hidden">
        <p style="margin-bottom: 5px; font-weight: bold; color: #ff6b00;">ë‚˜ì˜ ìš´ëª…ì ì¸ ë§›ì€...</p>
        <h1 id="result-title" style="font-size: 26px; margin-bottom: 15px;" class="point-font"></h1>
        <div id="result-img-container"><img id="final-result-image" src="" alt="ì œí’ˆ ì´ë¯¸ì§€"></div>
        <div class="result-box">
            <p id="result-desc" style="font-size: 15px; font-weight: 600; color: #333; text-align: center;"></p>
            <p id="result-features"></p>
            <p style="font-size: 14px; color: #ff6b00; font-weight: 800; margin-top: 10px;" class="point-font">ì´ëŸ´ ë•Œ ë”±ì´ì—ìš”!</p>
            <ul id="result-situations"></ul>
        </div>
        
        <a href="https://smartstore.naver.com/whatdafish_mall/products/12732443489" target="_blank" class="btn store-btn">ğŸ›’ ì´ ë§› êµ¬ë§¤í•˜ëŸ¬ ê°€ê¸°</a>
        <button class="btn insta-btn" onclick="copyLink()">ğŸ“¸ ê²°ê³¼ ê³µìœ í•˜ê³  ìŠ¤í† ë¦¬ì— ì˜¬ë¦¬ê¸°</button>
        <a href="https://www.instagram.com/whatda_fish/" target="_blank" class="btn insta-link-btn">ğŸ‘€ ì™”ë‹¤í”¼ì‰¬ì¹©ì´ ë” ê¶ê¸ˆí•˜ë‹¤ë©´?</a>
        
        <button class="btn" onclick="location.reload()" style="border: none; color: #999; font-size: 13px; margin-top: 15px;">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
</div>

<script>
    const questions = [
        { q: "ë§›ì§‘ì„ ê°ˆ ë•Œ ë‚˜ëŠ”?", a: [{text: "ë¯¸ë¦¬ ì˜ˆì•½í•˜ê³  ê³„íšëŒ€ë¡œ ê°„ë‹¤", type: "A"}, {text: "ì›¨ì´íŒ…ì´ ìˆì–´ë„ íŠ¹ë³„í•œ ë§›ì„ ì›í•œë‹¤", type: "B"}, {text: "ê·¸ëƒ¥ ëˆˆì— ë³´ì´ëŠ” ë§›ìˆëŠ” ê³³ì— ê°„ë‹¤", type: "C"}] },
        { q: "í—¬ìŠ¤ì¥ì—ì„œ ìš´ë™í•  ë•Œ ë‚˜ì˜ ìŠ¤íƒ€ì¼ì€?", a: [{text: "ì´ë¯¸ ë£¨í‹´ì´ ë‹¤ ì§œì—¬ ìˆë‹¤", type: "A"}, {text: "ê·¸ë‚ ê·¸ë‚  ê½‚íˆëŠ” ê¸°êµ¬ ìœ„ì£¼ë¡œ í•œë‹¤", type: "B"}, {text: "ì¹œêµ¬ë‘ ìˆ˜ë‹¤ ë–¨ë©° ì¦ê²ê²Œ í•œë‹¤", type: "C"}] },
        { q: "ì•ˆì£¼ë¥¼ ê³ ë¥¼ ë•Œ ê¸°ì¤€ì€?", a: [{text: "ëˆ„êµ¬ë‚˜ ì¢‹ì•„í•˜ëŠ” ë‹¬ë‹¬ ê³ ì†Œí•œ ë§›", type: "A"}, {text: "ì½”ê°€ ë»¥ ëš«ë¦¬ëŠ” ìê·¹ì ì¸ ë§›", type: "B"}, {text: "í’ë¯¸ê°€ ì§„í•˜ê³  ì§­ì¡°ë¦„í•œ ë§›", type: "C"}] },
        { q: "ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ì•˜ì„ ë•Œ ìƒê°ë‚˜ëŠ” ê²ƒì€?", a: [{text: "ë‹¬ì½¤í•œ ë””ì €íŠ¸ë¡œ íë§", type: "A"}, {text: "ë§¤ì½¤í•˜ê±°ë‚˜ ì•Œì‹¸í•œ ìš”ë¦¬ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ íƒ€íŒŒ", type: "B"}, {text: "ê¾¸ë•í•˜ê³  ê³ ì†Œí•œ ì¹˜ì¦ˆ ìš”ë¦¬ë¡œ ë³´ìƒ", type: "C"}] },
        { q: "ì—¬í–‰ì§€ì—ì„œ ë‚˜ì˜ ëª¨ìŠµì€?", a: [{text: "ë°•ë¬¼ê´€ì´ë‚˜ ìœ ì ì§€ ì½”ìŠ¤ ì •ì„ëŒ€ë¡œ!", type: "A"}, {text: "ë‚¨ë“¤ì´ ì•ˆ ê°€ëŠ” ìˆ¨ì€ ë§›ì§‘ íƒë°©!", type: "B"}, {text: "ìœ ëª…í•œ í•«í”Œì—ì„œ ì¸ì¦ìƒ· ì°ê¸°!", type: "C"}] },
        { q: "ì¹œêµ¬ê°€ ê³¼ìë¥¼ í•œ ì…ë§Œ ë‹¬ë¼ê³  í•œë‹¤ë©´?", a: [{text: "ì •ê°ˆí•˜ê²Œ ëœì–´ì„œ ì¤€ë‹¤", type: "A"}, {text: "ê°€ì¥ ê°€ë£¨ê°€ ë§ì´ ë¬»ì€ ë§›ìˆëŠ” ë¶€ë¶„ì„ ì¤€ë‹¤", type: "B"}, {text: "ë´‰ì§€ì§¸ ì¿¨í•˜ê²Œ ê±´ë„¨ë‹¤", type: "C"}] }
    ];

    const results = {
        A: { title: "ë¶€ë“œëŸ½ê³  ì„¬ì„¸í•œ\nì¸ê°„ë²„í„°!", desc: "ì•ˆì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ì„ í˜¸í•˜ëŠ” ë‹¹ì‹ ì—ê² ë²„í„°êµ¬ì´ ì˜¤ì§•ì–´ë§›ì´ ìš´ëª…!", img: "1ë²„í„°êµ¬ì´ìƒì„¸.jpg", situations: ["ğŸº í‡´ê·¼ í›„ ì‹œì›í•œ ìº”ë§¥ì£¼ ê¹” ë•Œ", "âœï¸ ì¹´ê³µ ì¤‘ ë‹¹ ì¶©ì „ì´ í•„ìš”í•  ë•Œ", "ğŸ¬ ì£¼ë§ì— ë„·í”Œë¦­ìŠ¤ ë³´ë©° íë§í•  ë•Œ"], features: "âœ¨ ì•Œë˜ìŠ¤ì¹´ ëª…íƒœ ì›ë¬¼ ê·¸ëŒ€ë¡œ!\në‹¨ë°±ì§ˆ 9g í•¨ìœ ë¡œ ì£„ì±…ê° ì—†ì´ ì¦ê¸°ì„¸ìš”!" },
        B: { title: "í†¡ ì˜ëŠ” ë§¤ë ¥ì˜\nììœ ë¡œìš´ ëª¨í—˜ê°€!", desc: "ë…ì°½ì ì¸ ì„±ê²©ì˜ ë‹¹ì‹ ì—ê² ì•Œì‹¸í•œ ì™€ì‚¬ë¹„ë§ˆìš”ë§›ì´ ì°°ë–¡ê¶í•©!", img: "1ì™€ì‚¬ë¹„ë§ˆìš”ìƒì„¸.jpg", situations: ["ğŸ¥— ì‹ë‹¨ ê´€ë¦¬ ì¤‘ ì†ì„¸ì˜ ë§›ì´ ê·¸ë¦¬ìš¸ ë•Œ", "ğŸ”¥ ì½” ë»¥ ëš«ë¦¬ëŠ” ìê·¹ì´ í•„ìš”í•  ë•Œ", "ğŸº í˜¼ìˆ í•  ë•Œ íŠ¹ë³„í•œ ì•ˆì£¼ê°€ ë•¡ê¸´ë‹¤ë©´"], features: "âœ¨ í†¡ ì˜ëŠ” ì™€ì‚¬ë¹„ ë§ˆìš”ì˜ ë§¤ë ¥!\nê¸€ë£¨í…í”„ë¦¬ ìŒ€ê³¼ìë¡œ íŠ¸ëœìŠ¤ì§€ë°© ê±±ì • ë!" },
        C: { title: "ë¶„ìœ„ê¸°ë¥¼ ë°íˆëŠ”\nì—ë„ˆìì´ì €!", desc: "ì—´ì •ì ì¸ ë‹¹ì‹ ì—ê² ì§„í•˜ê³  ì§­ì¡°ë¦„í•œ ì²´ë‹¤ì¹˜ì¦ˆë§›ì´ ì–´ìš¸ë ¤ìš”.", img: "1ì²´ë‹¤ì¹˜ì¦ˆìƒì„¸.jpg", situations: ["ğŸ’ª ì˜¤ìš´ì™„! ë‹¨ë°±ì§ˆ ë³´ì¶©ì´ í•„ìš”í•  ë•Œ", "ğŸ¥³ ì¹œêµ¬ë“¤ê³¼ í™ˆíŒŒí‹°! ë§¥ì£¼&ì™€ì¸ ì•ˆì£¼ë¡œ ë”±", "ğŸ§€ ì…ì´ ì‹¬ì‹¬í•  ë•Œ, ì°~í•œ ì¹˜ì¦ˆ í’ë¯¸ê°€ ë•¡ê¸´ë‹¤ë©´"], features: "âœ¨ í”¼ì‰¬ì¹©ê³¼ ì§„í•œ ì²´ë‹¤ì¹˜ì¦ˆì˜ ë§Œë‚¨!\në°€ê°€ë£¨ ì—†ëŠ” ê±´ê°•í•œ ê°„ì‹ìœ¼ë¡œ ë‹¨ë°±ì§ˆì„ ì±„ì›Œë³´ì„¸ìš”." }
    };

    let currentIdx = 0;
    let scores = { A: 0, B: 0, C: 0 };

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function startTest() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('question-screen').classList.remove('hidden');
        showQuestion();
    }

    function showQuestion() {
        const q = questions[currentIdx];
        document.getElementById('question-text').innerText = q.q;
        document.getElementById('progress-bar').style.width = (currentIdx / questions.length) * 100 + '%';
        const btnContainer = document.getElementById('answer-buttons');
        btnContainer.innerHTML = '';
        shuffle([...q.a]).forEach(ans => {
            const btn = document.createElement('button');
            btn.className = 'btn';
            btn.innerText = ans.text;
            btn.onclick = () => nextQuestion(ans.type);
            btnContainer.appendChild(btn);
        });
    }

    function nextQuestion(type) {
        scores[type]++;
        currentIdx++;
        if (currentIdx < questions.length) showQuestion();
        else {
            document.getElementById('question-screen').classList.add('hidden');
            document.getElementById('loading-screen').classList.remove('hidden');
            document.body.classList.add('loading-state');
            setTimeout(showResult, 2200);
        }
    }

    function showResult() {
        document.getElementById('loading-screen').classList.add('hidden');
        document.body.classList.remove('loading-state'); 
        document.body.classList.add('result-bg');
        document.getElementById('result-screen').classList.remove('hidden');

        const finalType = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
        const data = results[finalType];
        
        document.getElementById('result-title').innerText = data.title;
        document.getElementById('result-desc').innerText = data.desc;
        document.getElementById('final-result-image').src = data.img;
        document.getElementById('result-features').innerText = data.features;

        const sitList = document.getElementById('result-situations');
        sitList.innerHTML = '';
        data.situations.forEach(sit => {
            const li = document.createElement('li');
            li.innerText = sit;
            sitList.appendChild(li);
        });
    }

    function copyLink() {
        navigator.clipboard.writeText(window.location.href).then(() => {
            alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì¸ìŠ¤íƒ€ ìŠ¤í† ë¦¬ì˜ 'ë§í¬ ìŠ¤í‹°ì»¤'ë¡œ ê³µìœ í•´ë³´ì„¸ìš”! ğŸŸâœ¨");
        });
    }
</script>
</body>
</html>